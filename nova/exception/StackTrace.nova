package "nova/exception"

class StackTrace {
    external type NOVA_CODE_CONTEXT
    
    compiler_visible external_name NOVA_CODE_CONTEXT* context
    
    public construct() {
        external c {
            #{context} = 0;
        }
    }
    
    [Target c]
    public construct(this NOVA_CODE_CONTEXT* context) {}
    
    public static callingTrace(Int count) {
        external c {
            nova_print_calling_stacktrace(#{count});
        }
    }
}